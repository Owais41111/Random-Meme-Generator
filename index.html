<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meme Generator</title>
    <link rel="icon" href="Ej Logo.png">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="meme-container">
        <h1>Random Meme Generator</h1>
        <div id="meme-box">
            <img id="meme-image" src="" alt="Random Meme" />
        </div>
        <div id="meme-buttons">
            <button id="new-meme">Get New Meme</button>
            <button id="download-meme">Download Meme</button>
            <button id="share-meme">Share Meme</button>
        </div>
    </div>

    <script>
        const memeImage = document.getElementById('meme-image');
        const newMemeButton = document.getElementById('new-meme');
        const downloadMemeButton = document.getElementById('download-meme');
        const shareMemeButton = document.getElementById('share-meme');

        // Fetch random meme from the API
        async function fetchMeme() {
            try {
                const response = await fetch('https://api.imgflip.com/get_memes');
                const data = await response.json();
                const { memes } = data.data;
                const randomMeme = memes[Math.floor(Math.random() * memes.length)];
                memeImage.src = randomMeme.url;
            } catch (error) {
                console.error('Error fetching meme:', error);
            }
        }

        // Download the meme
        const downloadMeme = () => {
            const memeUrl = memeImage.src;
            if (memeUrl) {
                const a = document.createElement('a');
                a.href = memeUrl;
                a.download = 'meme.jpg';
                a.click();
            }
        };

        // Share the meme
        const shareMeme = () => {
            const memeUrl = memeImage.src;
            if (memeUrl) {
                const shareUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(
                    memeUrl,
                )}`;
                window.open(shareUrl, '_blank');
            }
        };

        // Event listeners
        newMemeButton.addEventListener('click', fetchMeme);
        downloadMemeButton.addEventListener('click', downloadMeme);
        shareMemeButton.addEventListener('click', shareMeme);

        // Load an initial meme on page load
        fetchMeme();
    </script>
</body>

</html>